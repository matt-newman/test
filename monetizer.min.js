(function(){var a="monetize-101",b=".m101-widget",c=document.querySelector("*[data-type=\"price-comparison\"]"),d=document.querySelector("script[src=\"".concat("https://m.skimresources.com/widget/skimlinks/pc/app.bundle.js","\"]")),e=/\/sun-selects\/\d+/i.test(document.location.href),f=/tech|motoring/i,g=function(){var a=[],b=/^\s*buy/i;return a=[].slice.call(document.querySelectorAll(".article__content ul a")).filter(function(a){return b.test(a.innerText)}),a},h=function(){var c=[].slice.call(document.querySelectorAll(".".concat(a))),d=[].slice.call(document.querySelectorAll(".".concat(a,":not([data-checked=\"true\"])"))),e=g(),f=[].slice.call(document.querySelectorAll(b));return 0===d.length&&c.length-e.length===f.length};!e||c||d||!function isMatchingTopicPage(){var a=[].slice.call(document.querySelectorAll(".tags__list a[href^=\"/topic/\"]"));return a.some(function(a){return f.test(a.innerText)})}()||(g().forEach(function insertMetaDataHook(b){var c=b.href,d="<p class=\"".concat(a,"\" data-type=\"price-comparison\" data-template=\"thesun\" data-config='").concat(JSON.stringify({isoCurrencyCode:"GBP",isoLanguageCode:"en"}),"' data-url='").concat(c,"'></p>");b.closest("ul").insertAdjacentHTML("beforebegin",d)}),function injectScript(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://m.skimresources.com/widget/skimlinks/pc/app.bundle.js",a.onload=function(){new PriceComparison({shopId:984,pub:"34784X1585475",geolocation:!1,resultLimit:5,template:"default3"})};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),function removeCTAs(){var a,c=30,d=function(){var e=g();clearTimeout(a);0===e.length||h()||(e.forEach(function(a){var c=a.closest("ul"),d=c.previousSibling.querySelector(b);d&&c.parentNode.removeChild(c)}),a=setTimeout(d,c),c*=2)};d()}())})();

